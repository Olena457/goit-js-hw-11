{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export async function fetchImages(query) {\n  const URL_BASE = 'https://pixabay.com';\n  const ENDPOINT = '/api/';\n  const API_KEY = '?key=43261756-f7e91f342fa994673ba6d269c';\n  const OTHERS_PARAMS = `&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  const url = URL_BASE + ENDPOINT + API_KEY + OTHERS_PARAMS;\n  try {\n    const resp = await fetch(url);\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return await resp.json();\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    throw error;\n  }\n}\n","// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const galleryEl = document.querySelector('.gallery');\nexport function renderImages(images) {\n  const markup = images.map(\n    ({\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    }) => {\n      return ` \n      <li class=\"gallery-item\">\n      <span class=\"loader hidden\"></span>\n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img class=\"gallery-img\" src=\"${webformatURL}\" alt=\"${tags}\">\n    <div class=\"image-description\">\n    <p>likes: ${likes}</p>\n    <p>views: ${views}</p>    \n    <p>comments: ${comments}</p>\n    <p>downloads: ${downloads}</p> \n    </div>\n    </a>\n    </li>`;\n    }\n  );\n  galleryEl.insertAdjacentHTML('beforeend', markup.join(''));\n}\nconst lightbox = new SimpleLightbox('.gallery a');\nlightbox.refresh();\n\n// galleryEl.addEventListener('click', event => {\n//   if (event.target.classList.contains('gallery-img')) {\n//     event.preventDefault();\n//     lightbox.open();\n//   }\n// });\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { fetchImages } from './js/pixabay-api';\nimport { galleryEl } from './js/render-functions';\nimport { renderImages } from './js/render-functions';\n\nconst searchForm = document.querySelector('.js-search');\nconst loaderEl = document.querySelector('.loader');\n\nsearchForm.addEventListener('submit', handleSearchSubmit);\n\nasync function handleSearchSubmit(ev) {\n  ev.preventDefault();\n\n  const query = ev.target.elements.query.value;\n\n  galleryEl.innerHTML = '';\n  // loaderEl.classList.remove('hidden');\n  try {\n    const data = await fetchImages(query);\n    if (data.hits.length === 0 || query === '') {\n      iziToast.show({\n        title: 'Error',\n        message: `\"Sorry, there are no images matching your search query. Please try again!\"`,\n        position: 'topRight',\n        color: '#da1418',\n        timeout: 2000,\n      });\n    } else {\n      renderImages(data.hits);\n    }\n  } catch (error) {\n    iziToast.show({\n      title: 'Error',\n      message: `Sorry, there are no images matching your search query. Please try again!`,\n      position: 'topRight',\n      color: '#da1418',\n      timeout: 2000,\n    });\n  } finally {\n    loaderEl.classList.add('hidden');\n  }\n}\n"],"names":["fetchImages","query","URL_BASE","ENDPOINT","API_KEY","OTHERS_PARAMS","url","resp","error","galleryEl","renderImages","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","lightbox","SimpleLightbox","searchForm","loaderEl","handleSearchSubmit","ev","data","iziToast"],"mappings":"6vBAAO,eAAeA,EAAYC,EAAO,CACvC,MAAMC,EAAW,sBACXC,EAAW,QACXC,EAAU,0CACVC,EAAgB,MAAMJ,CAAK,2DAE3BK,EAAMJ,EAAWC,EAAWC,EAAUC,EAC5C,GAAI,CACF,MAAME,EAAO,MAAM,MAAMD,CAAG,EAC5B,GAAI,CAACC,EAAK,GACR,MAAM,IAAI,MAAMA,EAAK,UAAU,EAEjC,OAAO,MAAMA,EAAK,MACnB,OAAQC,EAAO,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACP,CACH,CCZO,MAAMC,EAAY,SAAS,cAAc,UAAU,EACnD,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAASD,EAAO,IACpB,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACN,IACa;AAAA;AAAA;AAAA,oCAGuBL,CAAa;AAAA,oCACbD,CAAY,UAAUE,CAAI;AAAA;AAAA,gBAE9CC,CAAK;AAAA,gBACLC,CAAK;AAAA,mBACFC,CAAQ;AAAA,oBACPC,CAAS;AAAA;AAAA;AAAA,UAK7B,EACEV,EAAU,mBAAmB,YAAaG,EAAO,KAAK,EAAE,CAAC,CAC3D,CACA,MAAMQ,EAAW,IAAIC,EAAe,YAAY,EAChDD,EAAS,QAAO,EC5BhB,MAAME,EAAa,SAAS,cAAc,YAAY,EAChDC,EAAW,SAAS,cAAc,SAAS,EAEjDD,EAAW,iBAAiB,SAAUE,CAAkB,EAExD,eAAeA,EAAmBC,EAAI,CACpCA,EAAG,eAAc,EAEjB,MAAMxB,EAAQwB,EAAG,OAAO,SAAS,MAAM,MAEvChB,EAAU,UAAY,GAEtB,GAAI,CACF,MAAMiB,EAAO,MAAM1B,EAAYC,CAAK,EAChCyB,EAAK,KAAK,SAAW,GAAKzB,IAAU,GACtC0B,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,6EACT,SAAU,WACV,MAAO,UACP,QAAS,GACjB,CAAO,EAEDjB,EAAagB,EAAK,IAAI,CAEzB,MAAe,CACdC,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,2EACT,SAAU,WACV,MAAO,UACP,QAAS,GACf,CAAK,CACL,QAAY,CACRJ,EAAS,UAAU,IAAI,QAAQ,CAChC,CACH"}
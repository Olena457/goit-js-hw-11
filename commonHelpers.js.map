{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export async function fetchImages(query) {\n  const URL_BASE = 'https://pixabay.com';\n  const ENDPOINT = '/api/';\n  const API_KEY = '?key=43261756-f7e91f342fa994673ba6d269c';\n  const OTHERS_PARAMS = `&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  const url = URL_BASE + ENDPOINT + API_KEY + OTHERS_PARAMS;\n  try {\n    const resp = await fetch(url);\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return await resp.json();\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    throw error;\n  }\n}\n","export const galleryEl = document.querySelector('.gallery');\nexport function renderImages(images) {\n  const markup = images.map(\n    ({\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    }) => {\n      return ` \n      <li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\">\n    </a>\n    <div class='caption'>\n    <p class='caption-item'>\n      <b>Likes</b>\n      ${likes}\n    </p>\n    <p class='caption-item'>\n      <b>Views</b>\n      ${views}\n    </p>\n    <p class='caption-item'>\n      <b>Comments</b>\n      ${comments}\n    </p>\n    <p class='caption-item'>\n      <b>Downloads</b>\n      ${downloads}\n    </p>\n  </div>\n    </li>`;\n    }\n  );\n  galleryEl.insertAdjacentHTML('beforeend', markup.join(''));\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchImages } from './js/pixabay-api';\nimport { galleryEl } from './js/render-functions';\nimport { renderImages } from './js/render-functions';\n\nconst lightbox = new SimpleLightbox('.gallery a');\n\nconst searchForm = document.querySelector('.js-search');\nlet preloader = document.querySelector('.loader');\n\nsearchForm.addEventListener('submit', handleSearchSubmit);\n\nasync function handleSearchSubmit(ev) {\n  ev.preventDefault();\n\n  const query = ev.target.elements.query.value;\n\n  if (query === '') {\n    iziToast.show({\n      title: 'Error',\n      message: `Please enter a search query!`,\n      position: 'topRight',\n      color: '#da1418',\n      timeout: 2000,\n    });\n    return;\n  }\n\n  preloader.classList.remove('hidden');\n\n  galleryEl.innerHTML = '';\n\n  try {\n    const data = await fetchImages(query);\n    if (data.hits.length === 0) {\n      iziToast.show({\n        title: 'Error',\n        message: `Sorry, there are no images matching your search query. Please try again!`,\n        position: 'topRight',\n        color: '#da1418',\n        timeout: 2000,\n      });\n    } else {\n      renderImages(data.hits);\n      lightbox.refresh();\n    }\n  } catch (error) {\n    iziToast.show({\n      title: 'Error',\n      message: `Sorry, there are no images matching your search query. Please try again!`,\n      position: 'topRight',\n      color: '#da1418',\n      timeout: 2000,\n    });\n  } finally {\n    preloader.classList.add('hidden');\n  }\n}\n"],"names":["fetchImages","query","URL_BASE","ENDPOINT","API_KEY","OTHERS_PARAMS","url","resp","error","galleryEl","renderImages","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","lightbox","SimpleLightbox","searchForm","preloader","handleSearchSubmit","ev","iziToast","data"],"mappings":"6vBAAO,eAAeA,EAAYC,EAAO,CACvC,MAAMC,EAAW,sBACXC,EAAW,QACXC,EAAU,0CACVC,EAAgB,MAAMJ,CAAK,2DAE3BK,EAAMJ,EAAWC,EAAWC,EAAUC,EAC5C,GAAI,CACF,MAAME,EAAO,MAAM,MAAMD,CAAG,EAC5B,GAAI,CAACC,EAAK,GACR,MAAM,IAAI,MAAMA,EAAK,UAAU,EAEjC,OAAO,MAAMA,EAAK,MACnB,OAAQC,EAAO,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACP,CACH,CCjBO,MAAMC,EAAY,SAAS,cAAc,UAAU,EACnD,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAASD,EAAO,IACpB,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACN,IACa;AAAA;AAAA,oCAEuBL,CAAa;AAAA,sCACXD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,QAKxDC,CAAK;AAAA;AAAA;AAAA;AAAA,QAILC,CAAK;AAAA;AAAA;AAAA;AAAA,QAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,QAIRC,CAAS;AAAA;AAAA;AAAA,UAKjB,EACEV,EAAU,mBAAmB,YAAaG,EAAO,KAAK,EAAE,CAAC,CAC3D,CC7BA,MAAMQ,EAAW,IAAIC,EAAe,YAAY,EAE1CC,EAAa,SAAS,cAAc,YAAY,EACtD,IAAIC,EAAY,SAAS,cAAc,SAAS,EAEhDD,EAAW,iBAAiB,SAAUE,CAAkB,EAExD,eAAeA,EAAmBC,EAAI,CACpCA,EAAG,eAAc,EAEjB,MAAMxB,EAAQwB,EAAG,OAAO,SAAS,MAAM,MAEvC,GAAIxB,IAAU,GAAI,CAChByB,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,+BACT,SAAU,WACV,MAAO,UACP,QAAS,GACf,CAAK,EACD,MACD,CAEDH,EAAU,UAAU,OAAO,QAAQ,EAEnCd,EAAU,UAAY,GAEtB,GAAI,CACF,MAAMkB,EAAO,MAAM3B,EAAYC,CAAK,EAChC0B,EAAK,KAAK,SAAW,EACvBD,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,2EACT,SAAU,WACV,MAAO,UACP,QAAS,GACjB,CAAO,GAEDhB,EAAaiB,EAAK,IAAI,EACtBP,EAAS,QAAO,EAEnB,MAAe,CACdM,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,2EACT,SAAU,WACV,MAAO,UACP,QAAS,GACf,CAAK,CACL,QAAY,CACRH,EAAU,UAAU,IAAI,QAAQ,CACjC,CACH"}